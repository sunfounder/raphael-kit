.. note::

    隆Hola! Bienvenido a la comunidad de entusiastas de SunFounder Raspberry Pi, Arduino y ESP32 en Facebook. Sum茅rgete en el mundo de Raspberry Pi, Arduino y ESP32 con otros entusiastas.

    **驴Por qu茅 unirte?**

    - **Soporte Experto**: Resuelve problemas postventa y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y Comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Preestrenos Exclusivos**: Accede anticipadamente a anuncios de nuevos productos y adelantos.
    - **Descuentos Especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones y Sorteos Festivos**: Participa en sorteos y promociones de temporada.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo!

.. _1.1.1_c:

1.1.1 LED Parpadeante
===========================

Introducci贸n
------------------

En este proyecto, aprenderemos c贸mo hacer que un LED parpadee mediante programaci贸n. 
Con tus configuraciones, tu LED puede producir una serie de fen贸menos interesantes. 
隆Adelante!

Componentes Necesarios
------------------------------

En este proyecto, necesitamos los siguientes componentes.

.. image:: ../img/blinking_led_list.png
    :width: 800
    :align: center

Es definitivamente conveniente comprar un kit completo, aqu铆 tienes el enlace:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - ELEMENTOS EN ESTE KIT
        - ENLACE
    *   - Kit Raphael
        - 337
        - |link_Raphael_kit|

Tambi茅n puedes comprarlos por separado en los enlaces a continuaci贸n.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIN DEL COMPONENTE
        - ENLACE DE COMPRA

    *   - :ref:`cpn_gpio_board`
        - |link_gpio_board_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_resistor`
        - |link_resistor_buy|
    *   - :ref:`cpn_led`
        - |link_led_buy|

Diagrama Esquem谩tico
---------------------

En este experimento, conecta una resistencia de 220惟 al 谩nodo (el pin largo del LED), 
luego la resistencia a 3.3 V, y conecta el c谩todo (el pin corto) del LED al GPIO17 de la 
Raspberry Pi. Por lo tanto, para encender un LED, necesitamos poner el GPIO17 en nivel bajo (0V). 
Podemos lograr este fen贸meno mediante programaci贸n.

.. note::

    **Pin11** se refiere al pin 11 de la Raspberry Pi de izquierda a derecha, y sus n煤meros de 
    pin correspondientes en **wiringPi** y **BCM** se muestran en la siguiente tabla.

En el contenido relacionado con el lenguaje C, hacemos que GPIO0 sea equivalente a 0 en wiringPi. 
Entre el contenido relacionado con el lenguaje Python, BCM 17 es 17 en la columna BCM de la 
siguiente tabla. Al mismo tiempo, son iguales al pin 11 en la Raspberry Pi, Pin 11.

.. list-table::
   :header-rows: 1
   :widths: 20 20 20 20

   * - Nombre
     - T-Board f铆sico
     - wiringPi
     - BCM
   * - GPIO17
     - Pin 11
     - 0
     - 17


.. image:: ../img/image48.png
    :width: 800
    :align: center

Procedimientos Experimentales
-----------------------------

**Paso 1:** Construir el circuito.

.. image:: ../img/image49.png
    :width: 800
    :align: center

**Paso 2:** Ve a la carpeta del c贸digo.

1) Si usas una pantalla, se recomienda seguir los siguientes pasos.

Ve a **~/** y encuentra la carpeta **raphael-kit**.

Encuentra **C** en la carpeta, haz clic derecho sobre ella y selecciona **Abrir en Terminal**.

.. image:: ../img/image50.png
    :width: 800
    :align: center

Luego aparecer谩 una ventana como se muestra a continuaci贸n. Ahora has ingresado a la ruta del c贸digo **1.1.1_BlinkingLed.c**.

.. image:: ../img/image51.png
    :width: 800
    :align: center

En los siguientes proyectos, usaremos comandos para ingresar al archivo de c贸digo en lugar
 de hacer clic derecho. Pero puedes elegir el m茅todo que prefieras.

2) Si inicias sesi贸n en la Raspberry Pi de forma remota, usa ``cd`` para cambiar de directorio:

.. raw:: html

   <run></run>

.. code-block::

   cd ~/raphael-kit/c/1.1.1/

.. note::
    Cambia de directorio a la ruta del c贸digo en este experimento mediante cd.

De cualquier manera, ahora est谩s en la carpeta C. Los procedimientos subsecuentes basados
 en estos dos m茅todos son los mismos. Continuemos.

**Paso 3:** Compila el c贸digo.

.. raw:: html

   <run></run>

.. code-block::

   gcc 1.1.1_BlinkingLed.c -o BlinkingLed -lwiringPi

.. note::
    gcc es la Colecci贸n de Compiladores GNU. Aqu铆, funciona como compilador del 
    archivo de lenguaje C ``1.1.1_BlinkingLed.c`` y genera un archivo ejecutable.

En el comando, ``-o`` significa salida (el car谩cter inmediatamente posterior a -o es el 
nombre del archivo de salida despu茅s de la compilaci贸n, y aqu铆 se generar谩 un ejecutable 
llamado ``BlinkingLed``) y ``-lwiringPi`` es para cargar la biblioteca wiringPi (``l`` es 
la abreviatura de library).

**Paso 4:** Ejecuta el archivo ejecutable generado en el paso anterior.

.. raw:: html

   <run></run>

.. code-block::

   sudo ./BlinkingLed

.. note::

   Si no funciona despu茅s de ejecutarlo, o aparece un mensaje de 
   error: \"wiringPi.h: No such file or directory\", por favor consulta :ref:`install_wiringpi`.

Para controlar el GPIO, necesitas ejecutar el programa con el comando 
``sudo`` (superuser do). El comando ``./`` indica el directorio actual. 
El comando completo es para ejecutar ``BlinkingLed`` en el directorio actual.

Despu茅s de ejecutar el c贸digo, ver谩s el LED parpadeando.

Si deseas editar el archivo de c贸digo ``1.1.1_BlinkingLed.c``, det茅n el c贸digo y luego escribe el siguiente comando para abrirlo:

.. raw:: html

   <run></run>

.. code-block::

   nano 1.1.1_BlinkingLed.c

Presiona ``Ctrl+X`` para salir. Si has modificado el c贸digo, aparecer谩 un mensaje 
preguntando si deseas guardar los cambios o no. Escribe ``Y`` (guardar) o ``N`` (no guardar). 
Luego presiona ``Enter`` para salir. Repite ``Paso 3`` y ``Paso 4`` para ver el efecto despu茅s 
de modificar.

.. image:: ../img/image53.png
    :width: 800
    :align: center


**C贸digo**

El c贸digo del programa se muestra a continuaci贸n:

.. code-block:: c

   #include <wiringPi.h>  
   #include <stdio.h>
   #define LedPin      0
   int main(void)
   {
      // When initialize wiring failed, print message to screen
      if(wiringPiSetup() == -1){
         printf("setup wiringPi failed !");
         return 1;
      }
      pinMode(LedPin, OUTPUT);// Set LedPin as output to write value to it.
      while(1){
         // LED on
         digitalWrite(LedPin, LOW);
         printf("...LED on\n");
         delay(500);
         // LED off
         digitalWrite(LedPin, HIGH);
         printf("LED off...\n");
         delay(500);
      }
      return 0;
   }

**Explicaci贸n del C贸digo**

.. code-block:: c

   #include <wiringPi.h>

La biblioteca de control de hardware est谩 dise帽ada para el lenguaje C de Raspberry Pi. 
Agregar esta biblioteca es beneficioso para la inicializaci贸n del hardware y la salida 
de los puertos I/O, PWM, etc.

.. code-block:: c

   #include <stdio.h>

Biblioteca est谩ndar de I/O. La funci贸n printf utilizada para imprimir los datos mostrados 
en la pantalla se realiza mediante esta biblioteca. Hay muchas otras funciones disponibles 
para explorar.

.. code-block:: c

   #define LedPin 0

El pin GPIO17 de la Placa de Extensi贸n T corresponde al GPIO0 en wiringPi. Asigna GPIO0 a LedPin, 
LedPin representa GPIO0 en el c贸digo posterior.

.. code-block:: c

   if(wiringPiSetup() == -1){
      printf("setup wiringPi failed !");
      return 1;

Esto inicializa wiringPi y asume que el programa que llama va a usar el esquema de numeraci贸n 
de pines de wiringPi.

Esta funci贸n necesita ser llamada con privilegios de root. Cuando la inicializaci贸n de wiring 
falla, imprime un mensaje en la pantalla. La funci贸n ``return`` se utiliza para salir de la 
funci贸n actual. Usar return en la funci贸n ``main()`` finalizar谩 el programa.

.. code-block:: c

   pinMode(LedPin, OUTPUT);

Configura ``LedPin`` como salida para escribir valores en 茅l.

.. code-block:: c

   digitalWrite(LedPin, LOW);

Configura GPIO0 como 0V (nivel bajo). Dado que el c谩todo del LED est谩 conectado a GPIO0, 
el LED se encender谩 si GPIO0 se configura en nivel bajo. Por el contrario, configura GPIO0 
en nivel alto, el LED se apagar谩.

.. code-block:: c

   printf("...LED apagado\n");

La funci贸n printf es una funci贸n de biblioteca est谩ndar y su prototipo de funci贸n 
est谩 en el archivo de encabezado ``stdio.h``.

La forma general de la llamada es: ``printf("cadena de control de formato", columnas de la tabla de salida)``. 
La cadena de control de formato se utiliza para especificar el formato de salida, que se divide en 
cadena de formato y cadena sin formato. La cadena de formato comienza con ``%`` seguida de 
caracteres de formato, como ``%d`` para salida de entero decimal. Las cadenas sin formato se 
imprimen tal como son. Aqu铆 se utiliza una cadena sin formato, seguida de ``\n`` que es un car谩cter 
de nueva l铆nea, representando un salto de l铆nea autom谩tico despu茅s de imprimir una cadena.

.. code-block:: c

   delay(500);

Mantiene el estado HIGH o LOW actual durante 500 ms.

Esta es una funci贸n que suspende el programa por un per铆odo de tiempo. Y la velocidad del programa 
est谩 determinada por nuestro hardware. Aqu铆 encendemos o apagamos el LED. Si no hay funci贸n de 
retraso, el programa ejecutar谩 todo el programa muy r谩pido y en un bucle continuo. 
As铆 que necesitamos la funci贸n de retraso para ayudarnos a escribir y depurar el programa.

.. code-block:: c

   return 0;

Generalmente, se coloca al final de la funci贸n principal, indicando que la funci贸n devuelve 0 al 
ejecutarse correctamente.

Imagen del Fen贸meno
------------------------

.. image:: ../img/image54.jpeg
    :width: 800
    :align: center