.. note::

    Hola, 隆bienvenido a la Comunidad de Entusiastas de SunFounder Raspberry Pi, Arduino y ESP32 en Facebook! Profundiza en Raspberry Pi, Arduino y ESP32 con otros entusiastas.

    **驴Por qu茅 unirte?**

    - **Soporte Experto**: Resuelve problemas post-venta y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y Comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Previsualizaciones Exclusivas**: Obt茅n acceso anticipado a anuncios de nuevos productos y avances.
    - **Descuentos Especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s nuevos.
    - **Promociones y Sorteos Festivos**: Participa en sorteos y promociones de temporada.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo!

.. _2.1.1_c_pi5:

2.1.1 Bot贸n
==================

Introducci贸n
-----------------

En este proyecto, aprenderemos c贸mo encender o apagar el LED usando un bot贸n.

Componentes Necesarios
------------------------------

En este proyecto, necesitamos los siguientes componentes. 

.. image:: ../img/list_2.1.1_Button.png

Es definitivamente conveniente comprar un kit completo, aqu铆 est谩 el enlace: 

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - ARTCULOS EN ESTE KIT
        - ENLACE
    *   - Raphael Kit
        - 337
        - |link_Raphael_kit|

Tambi茅n puedes comprarlos por separado en los enlaces a continuaci贸n.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIN DE COMPONENTES
        - ENLACE DE COMPRA

    *   - :ref:`cpn_gpio_extension_board`
        - |link_gpio_board_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_resistor`
        - |link_resistor_buy|
    *   - :ref:`cpn_led`
        - |link_led_buy|
    *   - :ref:`cpn_button`
        - |link_button_buy|

Diagrama Esquem谩tico
------------------------

Usa un bot贸n normalmente abierto como la entrada de Raspberry Pi, la conexi贸n
se muestra en el diagrama esquem谩tico a continuaci贸n. Cuando se presiona el bot贸n, el
GPIO18 se convertir谩 en nivel bajo (0V). Podemos detectar el estado del
GPIO18 a trav茅s de la programaci贸n. Es decir, si el GPIO18 se convierte en nivel bajo,
significa que el bot贸n est谩 presionado. Puedes ejecutar el c贸digo correspondiente cuando
se presiona el bot贸n, y luego el LED se encender谩.

.. note::
    El pin m谩s largo del LED es el 谩nodo y el m谩s corto es
    el c谩todo.

.. image:: ../img/image302.png


.. image:: ../img/image303.png


Procedimientos Experimentales
-----------------------------------

**Paso 1**: Construye el circuito.

.. image:: ../img/image152.png

**Paso 2**: Abre el archivo de c贸digo.

.. raw:: html

   <run></run>

.. code-block::

    cd ~/raphael-kit/c/2.1.1/

.. note::
    Cambia el directorio a la ruta del c贸digo en este experimento mediante **cd**.

**Paso 3**: Compila el c贸digo.

.. raw:: html

   <run></run>

.. code-block::

    gcc 2.1.1_Button.c -lwiringPi

**Paso 4**: Ejecuta el archivo ejecutable.

.. raw:: html

   <run></run>

.. code-block::

    sudo ./a.out

Despu茅s de ejecutar el c贸digo, presiona el bot贸n, el LED se encender谩; de lo contrario, 
se apagar谩.

.. note::

    Si no funciona despu茅s de ejecutarlo, o aparece un mensaje de error: \"wiringPi.h: No such file or directory\", por favor consulta :ref:`install_wiringpi`.

**C贸digo**

.. code-block:: c

    #include <wiringPi.h>
    #include <stdio.h>

    #define LedPin      0
    #define ButtonPin   1

    int main(void){
        // When initialize wiring failed, print message to screen
        if(wiringPiSetup() == -1){
            printf("setup wiringPi failed !");
            return 1;
        }
        
        pinMode(LedPin, OUTPUT);
        pinMode(ButtonPin, INPUT);
        digitalWrite(LedPin, HIGH);
        
        while(1){
            // Indicate that button has pressed down
            if(digitalRead(ButtonPin) == 0){
                // Led on
                digitalWrite(LedPin, LOW);
            //  printf("...LED on\n");
            }
            else{
                // Led off
                digitalWrite(LedPin, HIGH);
            //  printf("LED off...\n");
            }
        }
        return 0;
    }

**Explicaci贸n del C贸digo**

.. code-block:: c

    #define LedPin      0

El pin GPIO17 en la T_Extension Board es equivalente al GPIO0 en wiringPi.

.. code-block:: c

    #define ButtonPin   1

ButtonPin est谩 conectado al GPIO1.

.. code-block:: c

    pinMode(LedPin, OUTPUT);

Configura LedPin como salida para asignarle un valor.

.. code-block:: c

    pinMode(ButtonPin, INPUT);

Configura ButtonPin como entrada para leer el valor de ButtonPin.

.. code-block:: c

    while(1){
            // Indicate that button has pressed down
            if(digitalRead(ButtonPin) == 0){
                // Led on
                digitalWrite(LedPin, LOW);
            //  printf("...LED on\n");
            }
            else{
                // Led off
                digitalWrite(LedPin, HIGH);
            //  printf("LED off...\n");
            }
        }

``if (digitalRead(ButtonPin) == 0)``: verifica si el bot贸n ha sido presionado. 
Ejecuta ``digitalWrite(LedPin, LOW)`` cuando el bot贸n est谩 presionado para encender el LED.

La funci贸n ``digitalRead()`` lee el estado ALTO (nivel alto) o BAJO (nivel bajo) 
del pin de entrada especificado. Devuelve 1 cuando el pin est谩 en ALTO y devuelve 
0 cuando el pin est谩 en BAJO.

La funci贸n ``digitalWrite()`` escribe ALTO (nivel alto) o BAJO (nivel bajo) en el 
pin de entrada especificado.


Imagen del Fen贸meno
^^^^^^^^^^^^^^^^^^

.. image:: ../img/image153.jpeg


