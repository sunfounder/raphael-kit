.. note::

    隆Hola! Bienvenido a la Comunidad de Entusiastas de SunFounder Raspberry Pi, Arduino y ESP32 en Facebook. Sum茅rgete en el mundo de Raspberry Pi, Arduino y ESP32 con otros entusiastas.

    **驴Por qu茅 unirte?**

    - **Soporte Experto**: Resuelve problemas postventa y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y Comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Preestrenos Exclusivos**: Accede anticipadamente a anuncios de nuevos productos y adelantos.
    - **Descuentos Especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones y Sorteos Festivos**: Participa en sorteos y promociones de temporada.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo!

.. _1.1.7_c_pi5:

1.1.7 LCD1602 I2C
========================

Introducci贸n
--------------------

LCD1602 es una pantalla de cristal l铆quido tipo car谩cter, que puede mostrar 32 caracteres (16*2) 
al mismo tiempo.

Componentes Necesarios
---------------------------------

En este proyecto, necesitamos los siguientes componentes.

.. image:: ../img/list_i2c_lcd.png

Es definitivamente conveniente comprar un kit completo, aqu铆 tienes el enlace:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - ELEMENTOS EN ESTE KIT
        - ENLACE
    *   - Kit Raphael
        - 337
        - |link_Raphael_kit|

Tambi茅n puedes comprarlos por separado en los enlaces a continuaci贸n.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIN DEL COMPONENTE
        - ENLACE DE COMPRA

    *   - :ref:`cpn_gpio_board`
        - |link_gpio_board_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_i2c_lcd`
        - |link_i2clcd1602_buy|

Diagrama Esquem谩tico
---------------------

============== ========
Nombre T-Board f铆sico
SDA1           Pin 3
SCL1           Pin 5
============== ========

.. image:: ../img/schematic_i2c_lcd.png


Procedimientos Experimentales
----------------------------------

**Paso 1:** Construir el circuito.

.. image:: ../img/image96.png


**Paso 2**: Configurar I2C (ver :ref:`i2c_config`. Si ya has configurado I2C, omite este paso.)

**Paso 3:** Cambiar de directorio.

.. raw:: html

   <run></run>

.. code-block:: shell

    cd ~/raphael-kit/c/1.1.7/

**Paso 4:** Compilar.

.. raw:: html

   <run></run>

.. code-block:: shell

    gcc 1.1.7_Lcd1602.c -lwiringPi

**Paso 5:** Ejecutar.

.. raw:: html

   <run></run>

.. code-block:: shell

    sudo ./a.out

Despu茅s de ejecutar el c贸digo, podr谩s ver ``Greetings!, From SunFounder`` en la pantalla LCD.

.. note::

    * Si aparece el error ``wiringPi.h: No such file or directory``, consulta :ref:`install_wiringpi_pi5`.
    * Si aparece el error ``Unable to open I2C device: No such file or directory``, necesitas consultar :ref:`i2c_config` para habilitar I2C y verificar si el cableado es correcto.
    * Si el c贸digo y el cableado est谩n correctos, pero la pantalla LCD a煤n no muestra contenido, puedes girar el potenci贸metro en la parte trasera para aumentar el contraste.


**C贸digo**

* `1.1.7_Lcd1602.c <https://github.com/sunfounder/raphael-kit/blob/master/c/1.1.7/1.1.7_Lcd1602.c>`_

**Explicaci贸n del C贸digo**

.. code-block:: c

    void write_word(int data){ /* ... */ }
    void send_command(int comm){ /* ... */ }
    void send_data(int data){ /* ... */ }
    void init(){ /* ... */ }
    void clear(){ /* ... */ }
    void write(int x, int y, char data[]){ /* ... */ }

Estas funciones se utilizan para controlar el c贸digo fuente abierto del LCD1602 I2C. Nos permiten 
usar f谩cilmente el LCD1602 I2C.
Entre estas funciones, ``init()`` se usa para la inicializaci贸n, ``clear()`` se usa para limpiar 
la pantalla, ``write()`` se usa para escribir lo que se muestra, y otras funciones apoyan las 
funciones anteriores.

.. code-block:: c

    fd = wiringPiI2CSetup(LCDAddr);

Esta funci贸n inicializa el sistema I2C con el s铆mbolo del dispositivo especificado. 
El prototipo de la funci贸n:

.. code-block:: c

    int wiringPiI2CSetup(int devId);

El par谩metro devId es la direcci贸n del dispositivo I2C, que se puede encontrar a trav茅s del comando i2cdetect (ver Ap茅ndice) y el devId del LCD1602 I2C generalmente es 0x27.

.. code-block:: c

    void write(int x, int y, char data[]){}

En esta funci贸n, ``data[]`` es el car谩cter que se imprimir谩 en el LCD, y los par谩metros x e y determinan la posici贸n de impresi贸n (la l铆nea y+1, columna x+1 es la posici贸n inicial del car谩cter a imprimir).

Imagen del Fen贸meno
--------------------------

.. image:: ../img/image97.jpeg
