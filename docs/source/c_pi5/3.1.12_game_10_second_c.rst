.. nota::

    隆Hola! Bienvenidos a la Comunidad de Entusiastas de SunFounder Raspberry Pi & Arduino & ESP32 en Facebook. Profundiza en Raspberry Pi, Arduino y ESP32 con otros entusiastas.

    **驴Por qu茅 unirse?**

    - **Soporte de Expertos**: Resuelve problemas post-venta y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y Comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Avances Exclusivos**: Obt茅n acceso anticipado a nuevos anuncios de productos y adelantos.
    - **Descuentos Especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s nuevos.
    - **Promociones y Sorteos Festivos**: Participa en sorteos y promociones de temporada.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo!

.. _3.1.12_c_pi5:

3.1.12 JUEGO - 10 Segundos
==============================

Introducci贸n
-------------------

A continuaci贸n, sigamos para hacer un dispositivo de juego que desaf铆e tu concentraci贸n. 
Ata el interruptor de inclinaci贸n a un palo para hacer una varita m谩gica. Agita la varita, 
el display de 4 d铆gitos comenzar谩 a contar, ag铆tala nuevamente para detener la cuenta. 
Si logras mantener el contador en **10.00**, entonces ganas. Puedes jugar con tus amigos 
para ver qui茅n es el mago del tiempo.


Componentes Necesarios
------------------------------

En este proyecto, necesitamos los siguientes componentes.

.. image:: ../img/list_GAME_10_Second.png
    :align: center

Es definitivamente conveniente comprar un kit completo, aqu铆 est谩 el enlace:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre
        - ELEMENTOS EN ESTE KIT
        - ENLACE
    *   - Kit Raphael
        - 337
        - |link_Raphael_kit|

Tambi茅n puedes comprarlos por separado en los enlaces a continuaci贸n.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIN AL COMPONENTE
        - ENLACE DE COMPRA

    *   - :ref:`cpn_gpio_extension_board`
        - |link_gpio_board_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_resistor`
        - |link_resistor_buy|
    *   - :ref:`cpn_4_digit`
        - \-
    *   - :ref:`cpn_74hc595`
        - |link_74hc595_buy|
    *   - :ref:`cpn_tilt_switch`
        - \-

Diagrama Esquem谩tico
--------------------------

============== ====== ======== ===
T-Board Nombre f铆sico wiringPi BCM
GPIO17         Pin 11 0        17
GPIO27         Pin 13 2        27
GPIO22         Pin 15 3        22
SPIMOSI        Pin 19 12       10
GPIO18         Pin 12 1        18
GPIO23         Pin 16 4        23
GPIO24         Pin 18 5        24
GPIO26         Pin 37 25       26
============== ====== ======== ===

.. image:: ../img/Schematic_three_one13.png
   :align: center

Procedimientos Experimentales
---------------------------------

**Paso 1**: Construir el circuito.

.. image:: ../img/image277.png


**Paso 2**: Ir a la carpeta del c贸digo.

.. raw:: html

   <run></run>

.. code-block:: 

    cd ~/raphael-kit/c/3.1.12/

**Paso 3**: Compilar el c贸digo.

.. raw:: html

   <run></run>

.. code-block:: 

    gcc 3.1.12_GAME_10Second.c -lwiringPi

**Paso 4**: Ejecutar el archivo ejecutable.

.. raw:: html

   <run></run>

.. code-block:: 

    sudo ./a.out

Agita la varita, el display de 4 d铆gitos comenzar谩 a contar, ag铆tala de
nuevo para detener la cuenta. Si logras mantener el contador en **10.00**,
entonces ganas. Ag铆tala una vez m谩s para comenzar la siguiente ronda del
juego.

.. nota::

    Si no funciona despu茅s de ejecutarlo, o aparece un mensaje de error: \"wiringPi.h: No such file or directory\", por favor, consulta :ref:`install_wiringpi`.

**Explicaci贸n del C贸digo**

.. code-block:: c

    voidstateChange(){
    if(gameState==0){
    counter=0;
    delay(1000);
    ualarm(10000,10000);
    }else{
    alarm(0);
    delay(1000);
    }
    gameState=(gameState+1)%2;
    }

El juego se divide en dos modos:

gameState=0 es el modo "inicio", en el cual se cronometra el tiempo y se
muestra en el display de segmentos, y al agitar el interruptor de
inclinaci贸n se entra en el modo "mostrar".

GameState=1 es el modo "mostrar", que detiene el cronometraje y muestra
el tiempo en el display de segmentos. Al agitar nuevamente el interruptor
de inclinaci贸n se reinicia el cron贸metro y el juego comienza de nuevo.

.. code-block:: c

    voidloop(){
    intcurrentState=0;
    intlastState=0;
    while(1){
    display();
    currentState=digitalRead(sensorPin);
    if((currentState==0)&&(lastState==1)){
    stateChange();
    }
    lastState=currentState;
    }
    }

Loop() es la funci贸n principal. Primero, el tiempo se muestra en el
display de 4 d铆gitos y se lee el valor del interruptor de inclinaci贸n.
Si el estado del interruptor de inclinaci贸n ha cambiado, se llama a
stateChange().

Imagen del Fen贸meno
-----------------------

.. image:: ../img/image278.jpeg
   :align: center



