.. nota::

    隆Hola! Bienvenido a la Comunidad de Entusiastas de SunFounder Raspberry Pi, Arduino y ESP32 en Facebook. Sum茅rgete m谩s en Raspberry Pi, Arduino y ESP32 con otros entusiastas.

    **驴Por qu茅 unirse?**

    - **Soporte experto**: Resuelve problemas post-venta y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprender y compartir**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Previsualizaciones exclusivas**: Obt茅n acceso anticipado a nuevos anuncios de productos y adelantos.
    - **Descuentos especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s nuevos.
    - **Promociones festivas y sorteos**: Participa en sorteos y promociones navide帽as.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo!

.. _2.1.1_js:

2.1.1 Bot贸n
==================

Introducci贸n
--------------------

En este proyecto, aprenderemos c贸mo encender o apagar el LED usando un bot贸n.

Componentes Requeridos
------------------------------

En este proyecto, necesitamos los siguientes componentes. 

.. image:: ../img/list_2.1.1_Button.png

Es definitivamente conveniente comprar un kit completo, aqu铆 est谩 el enlace: 

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - ELEMENTOS EN ESTE KIT
        - ENLACE
    *   - Kit Raphael
        - 337
        - |link_Raphael_kit|

Tambi茅n puedes comprarlos por separado en los enlaces a continuaci贸n.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIN AL COMPONENTE
        - ENLACE DE COMPRA

    *   - :ref:`cpn_gpio_extension_board`
        - |link_gpio_board_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_resistor`
        - |link_resistor_buy|
    *   - :ref:`cpn_led`
        - |link_led_buy|
    *   - :ref:`cpn_button`
        - |link_button_buy|

Diagrama Esquem谩tico
---------------------

Usa un bot贸n normalmente abierto como entrada para la Raspberry Pi, la conexi贸n
 se muestra en el diagrama esquem谩tico a continuaci贸n. Cuando se presiona el bot贸n, 
 el GPIO18 pasar谩 a nivel bajo (0V). Podemos detectar el estado del GPIO18 a trav茅s 
 de la programaci贸n. Es decir, si el GPIO18 pasa a nivel bajo, significa que el bot贸n 
 est谩 presionado. Puedes ejecutar el c贸digo correspondiente cuando se presiona el bot贸n, 
 y luego el LED se encender谩.

.. nota::
    La pata m谩s larga del LED es el 谩nodo y la m谩s corta es el c谩todo.

.. image:: ../img/image302.png


.. image:: ../img/image303.png


Procedimientos Experimentales
--------------------------------

**Paso 1**: Construir el circuito.

.. image:: ../img/image152.png

**Paso 2**: Ir a la carpeta del c贸digo.

.. raw:: html

   <run></run>

.. code-block:: 

    cd ~/raphael-kit/nodejs/

**Paso 3**: Ejecutar el c贸digo.

.. raw:: html

   <run></run>

.. code-block:: 

    sudo node button.js

Ahora, presiona el bot贸n y el LED se encender谩; 
suelta el bot贸n y el LED se apagar谩. 

**C贸digo**

.. code-block:: js

    const Gpio = require('pigpio').Gpio; 

    
    const led = new Gpio(17, {mode: Gpio.OUTPUT});
   
    const button = new Gpio(18, {
      mode: Gpio.INPUT,
      pullUpDown: Gpio.PUD_DOWN,     
      edge: Gpio.EITHER_EDGE        
    });

    
    button.on('interrupt', (level) => {  
      led.digitalWrite(level);          
    });

**Explicaci贸n del C贸digo**

.. code-block:: js

    const Gpio = require('pigpio').Gpio;    

    const led = new Gpio(17, {mode: Gpio.OUTPUT});

Importa el m贸dulo ``pigpio``, crea un objeto led para controlar el puerto IO Gpio17 y config煤ralo en modo de salida.

.. code-block:: js

    const button = new Gpio(18, {
      mode: Gpio.INPUT,
      pullUpDown: Gpio.PUD_DOWN,     
      edge: Gpio.EITHER_EDGE       
    });

Crea un objeto button para controlar el puerto IO Gpio18, config煤ralo en modo de entrada,
Pull down (bajo cuando el bot贸n no est谩 presionado, alto cuando el bot贸n est谩 presionado).
Y configura la funci贸n de interrupci贸n, el modo es EITHER_EDGE, es decir, tanto los bordes ascendentes como los descendentes activar谩n la funci贸n de interrupci贸n.

.. code-block:: js

    button.on('interrupt', (level) => {  
      led.digitalWrite(level);          
    });

Escribe una funci贸n de interrupci贸n, cuando se presiona el bot贸n, es un borde descendente, activando la funci贸n de interrupci贸n,
En este momento, escribe el nivel bajo del puerto IO del bot贸n en el puerto IO del led, y el led se enciende.

Cuando se suelta el bot贸n, es un borde ascendente, activando la funci贸n de interrupci贸n,
En este momento, escribe el nivel alto del puerto IO del bot贸n en el puerto IO del led, y el led se apaga.     

Imagen del Fen贸meno
^^^^^^^^^^^^^^^^^^^^

.. image:: ../img/image153.jpeg
