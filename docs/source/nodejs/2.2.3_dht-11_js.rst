 
.. _2.2.3_js:

2.2.3 DHT-11
==============

Introduction
---------------

Le capteur numérique de température et d'humidité DHT11 est un capteur composite
qui contient une sortie de signal numérique calibrée pour la température et
l'humidité. La technologie de collecte de modules numériques dédiés et
la technologie de détection de la température et de l'humidité sont appliquées
pour garantir que le produit possède une grande fiabilité et une excellente stabilité.

Les capteurs incluent un capteur résistif d'élément humide et un capteur de
température NTC, connectés à un microcontrôleur 8 bits haute performance.

Required Components
----------------------

Pour ce projet, nous avons besoin des composants suivants.

.. image:: ../img/list_2.2.3_dht-11.png

Il est certainement pratique d'acheter un kit complet, voici le lien :

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nom
        - ÉLÉMENTS DANS CE KIT
        - LIEN
    *   - Kit Raphael
        - 337
        - |link_Raphael_kit|

Vous pouvez également les acheter séparément via les liens ci-dessous.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCTION DES COMPOSANTS
        - LIEN D'ACHAT

    *   - :ref:`cpn_gpio_extension_board`
        - |link_gpio_board_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_resistor`
        - |link_resistor_buy|
    *   - :ref:`cpn_humiture_sensor`
        - |link_humiture_buy|

Schematic Diagram
-----------------

.. image:: ../img/image326.png


Procédures Expérimentales
-----------------------------

**Étape 1 :** Construisez le circuit.

.. image:: ../img/image207.png

**Étape 2 :** Allez dans le dossier du code.

.. raw:: html

   <run></run>

.. code-block::

    cd ~/raphael-kit/nodejs/

**Étape 3 :** Installez les dépendances.

.. raw:: html

   <run></run>

.. code-block:: 

    sudo npm install node-dht-sensor

**Étape 4 :** Exécutez le code.

.. raw:: html

   <run></run>

.. code-block::

    sudo node dht11.js

Après l'exécution du code, le programme affichera la température et l'humidité
détectées par le DHT11 sur l'écran de l'ordinateur.

**Code**

.. code-block:: js

    var sensor = require("node-dht-sensor");

    setInterval(function(){ 
      sensor.read(11, 17, function(err, temperature, humidity) {
        if (!err) {
          console.log(`temp: ${temperature}\`C, humidity: ${humidity}%`);
        }
      });
    },1000);

**Explication du Code**

.. code-block:: js

    var sensor = require("node-dht-sensor");

Importez le module ``node-dht-sensor``, qui fournit des fonctions pour lire les valeurs du DHT-11.

.. note::
  Pour plus de détails, veuillez consulter : https://www.npmjs.com/package/node-dht-sensor

.. code-block:: js

    sensor.read(11, 17, function(err, temperature, humidity){...})

Le module ``node-dht-sensor`` fournit la fonction ``read()`` pour lire la température et l'humidité mesurées,
où **11** signifie DHT-11, **17** signifie qu'il est connecté à GPIO17.

.. code-block:: js

    if (!err) {
      console.log(`temp: ${temperature}\`C, humidity: ${humidity}%`);
    }    

Lorsque la lecture ne présente pas d'erreur, les valeurs de température et d'humidité sont affichées sur le terminal.

Photo du Phénomène
------------------------

.. image:: ../img/image209.jpeg
