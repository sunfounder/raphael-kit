.. _2.2.1_js:

2.2.1 Fotowiderstand
=========================

Einführung
----------

Der Fotowiderstand ist eine häufig verwendete Komponente zur Messung der Umgebungslichtintensität im Alltag. Er ermöglicht es dem Controller, Tag und Nacht zu unterscheiden und Lichtsteuerfunktionen wie eine Nachtlampe zu realisieren. Dieses Projekt ähnelt sehr dem Potentiometer, und man könnte denken, dass es die Spannung ändert, um Licht zu erfassen.

Benötigte Komponenten
----------------------

Für dieses Projekt benötigen wir die folgenden Bauteile.

.. image:: ../img/list_2.2.1_photoresistor.png

Es ist definitiv praktisch, ein gesamtes Kit zu kaufen, hier ist der Link:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Name
        - ARTIKEL IN DIESEM KIT
        - LINK
    *   - Raphael Kit
        - 337
        - |link_Raphael_kit|

Sie können diese auch einzeln über die untenstehenden Links kaufen.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - KOMPONENTENBESCHREIBUNG
        - KAUF-LINK

    *   - :ref:`gpio_extension_board`
        - |link_gpio_board_buy|
    *   - :ref:`breadboard`
        - |link_breadboard_buy|
    *   - :ref:`wires`
        - |link_wires_buy|
    *   - :ref:`resistor`
        - |link_resistor_buy|
    *   - :ref:`led`
        - |link_led_buy|
    *   - :ref:`adc0834`
        - \-
    *   - :ref:`photoresistor`
        - |link_photoresistor_buy|

Schaltplan
----------

.. image:: ../img/image321.png

.. image:: ../img/image322.png

Experimentelle Verfahren
---------------------------

**Schritt 1:** Schalten Sie den Schaltkreis.

.. image:: ../img/image198.png

**Schritt 2:** Navigieren Sie zum Ordner des Codes.

.. raw:: html

   <run></run>

.. code-block::

    cd ~/raphael-kit/nodejs/

**Schritt 3:** Führen Sie den Code aus.

.. raw:: html

   <run></run>

.. code-block::

    sudo node photoresistor.js

Während der Code läuft, 
ändert sich die Helligkeit der LED entsprechend der vom Fotowiderstand erfassten Lichtintensität.

**Code**

.. code-block:: js

    const Gpio = require('pigpio').Gpio;
    const ADC0834 = require('./adc0834.js').ADC0834;

    exports.ADC0834 = ADC0834;

    const adc = new ADC0834(17, 18, 27);

    const led = new Gpio(22, {mode: Gpio.OUTPUT});

    setInterval(() => {
      adc.read(0).then((value) => {
        console.log(value);
        led.pwmWrite(value);
      }, (error)=>{
        console.log("Error: " + error);
      });
    }, 100);

**Code-Erklärung**

Die Codes hier sind die gleichen wie bei 2.1.7 Potentiometer.
Bitte überprüfen Sie die Code-Erklärung von :ref:`2.1.7_js` für weitere Details.

Phänomen-Bild
--------------------

.. image:: ../img/image199.jpeg
