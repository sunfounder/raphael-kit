.. note::

    隆Hola, bienvenido a la Comunidad de Entusiastas de SunFounder Raspberry Pi, Arduino y ESP32 en Facebook! Profundiza en Raspberry Pi, Arduino y ESP32 con otros entusiastas.

    **驴Por qu茅 unirse?**

    - **Soporte experto**: Resuelve problemas postventa y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Previews exclusivos**: Accede anticipadamente a anuncios de nuevos productos y adelantos exclusivos.
    - **Descuentos especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones y sorteos festivos**: Participa en sorteos y promociones de temporada.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo.

.. _3.1.3_py:

3.1.3 M贸dulo de Audio
=========================

Introducci贸n
--------------------

En este proyecto, vamos a construir un est茅reo DIY con un m贸dulo amplificador de audio, altavoces de 8ohm/2w y un cable de audio de 3.5mm.


Componentes necesarios
------------------------------

En este proyecto, necesitamos los siguientes componentes. 

.. image:: ../img/audio2.png
  :width: 700
  :align: center

Es definitivamente conveniente comprar un kit completo, aqu铆 est谩 el enlace: 

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - ELEMENTOS EN ESTE KIT
        - ENLACE
    *   - Kit Raphael
        - 337
        - |link_Raphael_kit|

Tambi茅n puedes comprarlos por separado en los enlaces a continuaci贸n.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIN DEL COMPONENTE
        - ENLACE DE COMPRA

    *   - :ref:`cpn_gpio_board`
        - |link_gpio_board_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_audio_speaker`
        - \-

Procedimientos experimentales
----------------------------------

**Paso 1:** Construye el circuito.

.. image:: ../img/4.1.4fritzing.png
    :width: 800
    :align: center

Despu茅s de construir el circuito seg煤n el diagrama anterior, conecta el cable de audio en la salida de 3.5mm de la Raspberry Pi.

.. image:: ../img/audio4.png
    :width: 400
    :align: center

**Paso 2:** Ve a la carpeta del c贸digo.

.. raw:: html

   <run></run>

.. code-block::

    cd ~/raphael-kit/python/

**Paso 3:** Ejecuta el c贸digo.

.. raw:: html

   <run></run>

.. code-block::

    python3 3.1.3_AudioModule.py

Despu茅s de ejecutar el c贸digo, puedes disfrutar de la m煤sica.


**C贸digo**

.. note::
    Puedes **Modificar/Restablecer/Copiar/Ejecutar/Detener** el c贸digo a continuaci贸n. Pero antes de eso, necesitas ir a la ruta del c贸digo fuente como ``raphael-kit/python``. Despu茅s de modificar el c贸digo, puedes ejecutarlo directamente para ver el efecto.

.. raw:: html

    <run></run>

.. code-block:: python

    from pygame import mixer
    import os
    user = os.getlogin()
    user_home = os.path.expanduser(f'~{user}')

    mixer.init()
    
    def main():
        mixer.music.load(f'{user_home}/raphael-kit/music/my_music.mp3')
        mixer.music.set_volume(0.7)
        mixer.music.play()
        while True:
            pass# Don't do anything.
    
    def destroy():
        mixer.music.stop()
    
    if __name__ == '__main__':
        try:
            main()
        except KeyboardInterrupt:
            destroy()

**Explicaci贸n del C贸digo**

.. code-block:: python

    from pygame import mixer

    mixer.init()

Importa el m茅todo ``mixer`` de la biblioteca ``pygame`` e inicializa el m茅todo.

.. code-block:: python

    mixer.music.load(f'{user_home}/raphael-kit/music/my_music.mp3')
    mixer.music.set_volume(0.7)
    mixer.music.play()

Este c贸digo lee el archivo ``my_music.mp3`` en el directorio ``~/raphael-kit/music`` y ajusta el volumen a 0.7 (el rango es 0~1). 
La Raspberry Pi comenzar谩 a reproducir audio cuando se llame a ``mixer.music.play()``.

.. note::
    
    Tambi茅n puedes subir otros archivos de m煤sica a tu Raspberry Pi. Para un tutorial detallado, consulta: :ref:`filezilla`

.. code-block:: python

    mixer.music.stop()

Llamar a ``mixer.music.stop()`` detendr谩 la reproducci贸n de audio.
Adem谩s, tambi茅n puedes pausar con ``mixer.music.pause()`` y continuar con ``mixer.music.unpause()``.

**Imagen del Fen贸meno**
---------------------------

.. image:: ../img/3.1.3audio.JPG
   :align: center
