.. note::

    隆Hola, bienvenido a la Comunidad de Entusiastas de SunFounder Raspberry Pi, Arduino y ESP32 en Facebook! Profundiza en Raspberry Pi, Arduino y ESP32 con otros entusiastas.

    **驴Por qu茅 unirse?**

    - **Soporte experto**: Resuelve problemas postventa y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Previews exclusivos**: Accede anticipadamente a anuncios de nuevos productos y adelantos exclusivos.
    - **Descuentos especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones y sorteos festivos**: Participa en sorteos y promociones de temporada.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo.

.. _3.1.1_py:

3.1.1 M贸dulo Fotogr谩fico
============================

Introducci贸n
-------------------

En este kit, equipado con un m贸dulo de c谩mara, vamos a intentar tomar una foto con Raspberry Pi.

Componentes necesarios
---------------------------------

En este proyecto, necesitamos los siguientes componentes. 

.. image:: ../img/photo1.png
  :width: 800

Es definitivamente conveniente comprar un kit completo, aqu铆 est谩 el enlace: 

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - ELEMENTOS EN ESTE KIT
        - ENLACE
    *   - Kit Raphael
        - 337
        - |link_Raphael_kit|

Tambi茅n puedes comprarlos por separado en los enlaces a continuaci贸n.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIN DEL COMPONENTE
        - ENLACE DE COMPRA

    *   - :ref:`cpn_camera_module`
        - |link_camera_buy|

Procedimientos experimentales
---------------------------------

**Paso 1:** Accede al escritorio de Raspberry Pi. Puede que necesites una pantalla para una mejor experiencia, consulta: `Conecta tu Raspberry Pi <https://projects.raspberrypi.org/en/projects/raspberry-pi-setting-up/3>`_. O accede al escritorio de Raspberry Pi de forma remota, para un tutorial detallado, consulta :ref:`remote_desktop`.

**Paso 2:** Abre un terminal y accede a la carpeta del c贸digo.

.. code-block::

    cd ~/raphael-kit/python/

**Paso 3:** Ejecuta el c贸digo.

.. code-block::

    sudo python3 3.1.1_PhotographModule.py

Despu茅s de ejecutar el c贸digo, la c谩mara tomar谩 una foto. Ahora puedes ver la foto llamada ``my_photo.jpg`` en el directorio ``~``.

.. note::

    Tambi茅n puedes abrir ``3.1.1_PhotographModule.py`` en la ruta ``~/raphael-kit/python/`` con un IDE de Python, hacer clic en el bot贸n de Ejecutar para ejecutar el c贸digo y detenerlo con el bot贸n de Detener.


Si deseas descargar la foto a tu PC, consulta :ref:`filezilla`.

**C贸digo**


.. code-block:: python

    from picamera import PiCamera
    import os
    user = os.getlogin()
    user_home = os.path.expanduser(f'~{user}')

    camera = PiCamera()
    
    def setup():
        camera.start_preview(alpha=200)
    
    def main():
        camera.capture(f'{user_home}/my_photo.jpg')
        while True:
            pass    
    
    def destroy():
        camera.stop_preview()
    
    if __name__ == '__main__':
        setup()
        try:
            main()
        except KeyboardInterrupt:
            destroy()

**Explicaci贸n del C贸digo**

.. code-block:: python

    from picamera import PiCamera

    camera = PiCamera()

Importa la biblioteca ``picamera`` e instancia la clase ``PiCamera`` para utilizar el m贸dulo de c谩mara.

.. code-block:: python

    start_preview(**options)


Muestra la superposici贸n de vista previa y cambia el nivel de transparencia con ``alpha`` - de 0 a 255. Este m茅todo inicia una vista previa de la c谩mara como una superposici贸n en la pantalla principal del Pi (HDMI o compuesto). Por defecto, el renderizador ser谩 opaco y a pantalla completa.

Esto significa que la vista previa por defecto sobrescribe lo que est茅 visible en la pantalla. M谩s espec铆ficamente, la vista previa no depende de un entorno gr谩fico como X-Windows (puede funcionar perfectamente desde una consola TTY); es simplemente una superposici贸n en la salida de video del Pi. Para detener la vista previa y revelar la pantalla nuevamente, llama a ``stop_preview()``. La vista previa puede iniciarse y detenerse varias veces durante la vida del objeto ``PiCamera``.

.. code-block:: python

    camera.capture(f'{user_home}/my_photo.jpg')

Captura una imagen con la c谩mara, almacen谩ndola en ``~/``.

.. note::
    Puedes usar la funci贸n ``camera.capture()`` y el bucle ``for`` juntos para lograr disparos continuos. Y usa la funci贸n ``delay`` para ajustar el intervalo de tiempo entre tomas.

    .. code-block:: python

        for i in 5:
            camera.capture(f'{user_home}/my_photo%s.jpg' % i)
