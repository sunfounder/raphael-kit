.. note::

    ã“ã‚“ã«ã¡ã¯ã€SunFounderã®Raspberry Pi & Arduino & ESP32æ„›å¥½å®¶ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¸ã‚ˆã†ã“ãï¼Facebookä¸Šã§Raspberry Piã€Arduinoã€ESP32ã«ã¤ã„ã¦ã‚‚ã£ã¨æ·±ãæ˜ã‚Šä¸‹ã’ã€ä»–ã®æ„›å¥½å®¶ã¨äº¤æµã—ã¾ã—ã‚‡ã†ã€‚

    **å‚åŠ ã™ã‚‹ç†ç”±ã¯ï¼Ÿ**

    - **ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã‚µãƒãƒ¼ãƒˆ**ï¼šã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚„ãƒãƒ¼ãƒ ã®åŠ©ã‘ã‚’å€Ÿã‚Šã¦ã€è²©å£²å¾Œã®å•é¡Œã‚„æŠ€è¡“çš„ãªèª²é¡Œã‚’è§£æ±ºã—ã¾ã™ã€‚
    - **å­¦ã³ï¼†å…±æœ‰**ï¼šãƒ’ãƒ³ãƒˆã‚„ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’äº¤æ›ã—ã¦ã‚¹ã‚­ãƒ«ã‚’å‘ä¸Šã•ã›ã¾ã—ã‚‡ã†ã€‚
    - **ç‹¬å çš„ãªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼**ï¼šæ–°è£½å“ã®ç™ºè¡¨ã‚„å…ˆè¡Œãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«æ—©æœŸã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã—ã‚‡ã†ã€‚
    - **ç‰¹åˆ¥å‰²å¼•**ï¼šæœ€æ–°è£½å“ã®ç‹¬å å‰²å¼•ã‚’ãŠæ¥½ã—ã¿ãã ã•ã„ã€‚
    - **ç¥­ã‚Šã®ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚®ãƒ•ãƒˆ**ï¼šã‚®ãƒ•ãƒˆã‚„ç¥æ—¥ã®ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã«å‚åŠ ã—ã¾ã—ã‚‡ã†ã€‚

    ğŸ‘‰ ç§ãŸã¡ã¨ä¸€ç·’ã«æ¢ç´¢ã—ã€å‰µé€ ã™ã‚‹æº–å‚™ã¯ã§ãã¦ã„ã¾ã™ã‹ï¼Ÿ[|link_sf_facebook|]ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ä»Šã™ãå‚åŠ ã—ã¾ã—ã‚‡ã†ï¼

.. _1.1.3_py:

1.1.3 LEDãƒãƒ¼ã‚°ãƒ©ãƒ•
===================

ã¯ã˜ã‚ã«
-------------

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€LEDãƒãƒ¼ã‚°ãƒ©ãƒ•ä¸Šã®è¤‡æ•°ã®LEDã‚’é †æ¬¡ç‚¹ç¯ã•ã›ã¾ã™ã€‚

å¿…è¦ãªéƒ¨å“
------------------------------

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã€ä»¥ä¸‹ã®éƒ¨å“ãŒå¿…è¦ã§ã™ã€‚

.. image:: ../img/list_led_bar.png

ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰ä¸€å¼ã‚’è³¼å…¥ã™ã‚‹ã¨éå¸¸ã«ä¾¿åˆ©ã§ã™ï¼š

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - åå‰
        - ã“ã®ã‚­ãƒƒãƒˆã®ã‚¢ã‚¤ãƒ†ãƒ 
        - ãƒªãƒ³ã‚¯
    *   - Raphael Kit
        - 337
        - |link_Raphael_kit|

å€‹ã€…ã®éƒ¨å“ã‚‚ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰åˆ¥é€”è³¼å…¥å¯èƒ½ã§ã™ã€‚

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç´¹ä»‹
        - è³¼å…¥ãƒªãƒ³ã‚¯
    *   - :ref:`cpn_gpio_board`
        - |link_gpio_board_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_resistor`
        - |link_resistor_buy|
    *   - :ref:`cpn_bar_graph`
        - \-

å›è·¯å›³
-------------------------

============ ======== ======== ===
T-Board Name physical wiringPi BCM
GPIO17       Pin 11   0        17
GPIO18       Pin 12   1        18
GPIO27       Pin 13   2        27
GPIO22       Pin 15   3        22
GPIO23       Pin 16   4        23
GPIO24       Pin 18   5        24
GPIO25       Pin 22   6        25
SDA1         Pin 3    8        2
SCL1         Pin 5    9        3
SPICE0       Pin 24   10       8
============ ======== ======== ===

.. image:: ../img/schematic_led_bar.png

å®Ÿé¨“æ‰‹é †
------------------------------

**ã‚¹ãƒ†ãƒƒãƒ—1**: å›è·¯ã‚’çµ„ã¿ç«‹ã¦ã¾ã™ã€‚

.. note::

    æ¥ç¶šã®æ–¹å‘ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚é€†ã«æ¥ç¶šã™ã‚‹ã¨ç‚¹ç¯ã—ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

.. image:: ../img/image66.png

**ã‚¹ãƒ†ãƒƒãƒ—2**: ã‚³ãƒ¼ãƒ‰ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¾ã™ã€‚

.. raw:: html

   <run></run>

.. code-block::

    cd ~/raphael-kit/python/

**ã‚¹ãƒ†ãƒƒãƒ—3**: å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’èµ·å‹•ã—ã¾ã™ã€‚

.. raw:: html

   <run></run>

.. code-block::

    sudo python3 1.1.3_LedBarGraph.py

ã‚³ãƒ¼ãƒ‰ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã‚‹ã¨ã€LEDãƒãƒ¼ã‚°ãƒ©ãƒ•ä¸Šã®LEDãŒé †æ¬¡ç‚¹ç¯ãŠã‚ˆã³æ¶ˆç¯ã—ã¾ã™ã€‚

**ã‚³ãƒ¼ãƒ‰**

.. note::

    ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã¯ **ä¿®æ­£/ãƒªã‚»ãƒƒãƒˆ/ã‚³ãƒ”ãƒ¼/å®Ÿè¡Œ/åœæ­¢** ãŒå¯èƒ½ã§ã™ãŒã€ãã‚Œã«å…ˆç«‹ã£ã¦ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ä¿å­˜å…ˆã§ã‚ã‚‹ ``raphael-kit/python`` ã«ç§»å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´å¾Œã€ãã®åŠ¹æœã‚’ç›´æ¥ç¢ºèªã§ãã¾ã™ã€‚

.. raw:: html

    <run></run>

.. code-block:: python

    import RPi.GPIO as GPIO
    import time

    ledPins = [11, 12, 13, 15, 16, 18, 22, 3, 5, 24]

    def oddLedBarGraph():
        for i in range(5):
            j = i*2
            GPIO.output(ledPins[j],GPIO.LOW)
            time.sleep(0.3)
            GPIO.output(ledPins[j],GPIO.HIGH)

    def evenLedBarGraph():
        for i in range(5):
            j = i*2+1
            GPIO.output(ledPins[j],GPIO.LOW)
            time.sleep(0.3)
            GPIO.output(ledPins[j],GPIO.HIGH)

    def allLedBarGraph():
        for i in ledPins:
            GPIO.output(i,GPIO.LOW)
            time.sleep(0.3)
            GPIO.output(i,GPIO.HIGH)

    def setup():
        GPIO.setwarnings(False)
        GPIO.setmode(GPIO.BOARD)        # Numbers GPIOs by physical location
        for i in ledPins:
            GPIO.setup(i, GPIO.OUT)   # Set all ledPins' mode is output
            GPIO.output(i, GPIO.HIGH) # Set all ledPins to high(+3.3V) to off led

    def loop():
        while True:
            oddLedBarGraph()
            time.sleep(0.3)
            evenLedBarGraph()
            time.sleep(0.3)
            allLedBarGraph()
            time.sleep(0.3)

    def destroy():
        for pin in ledPins:
            GPIO.output(pin, GPIO.HIGH)      # turn off all leds
        GPIO.cleanup()                       # Release resource

    if __name__ == '__main__':     # Program start from here
        setup()
        try:
            loop()
        except KeyboardInterrupt:  # When 'Ctrl+C' is pressed, the program destroy() will be  executed.
            destroy()

**ã‚³ãƒ¼ãƒ‰èª¬æ˜**

ledPins = [11, 12, 13, 15, 16, 18, 22, 3, 5, 24]
LEDãƒãƒ¼ã‚°ãƒ©ãƒ•ã«å¯¾å¿œã™ã‚‹ãƒ”ãƒ³ç•ªå·ï¼ˆ11, 12, 13, 15, 16, 18, 22, 3, 5, 24ï¼‰ã‚’é…åˆ—ã«å‰²ã‚Šå½“ã¦ã€LEDã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚

.. code-block:: python

    def oddLedBarGraph():
        for i in range(5):
            j = i*2
            GPIO.output(ledPins[j],GPIO.LOW)
            time.sleep(0.3)
            GPIO.output(ledPins[j],GPIO.HIGH)

LEDãƒãƒ¼ã‚°ãƒ©ãƒ•ã®å¥‡æ•°ä½ã®LEDã‚’é †ç•ªã«ç‚¹ç¯ã•ã›ã¾ã™ã€‚

.. code-block:: python

    def evenLedBarGraph():
        for i in range(5):
            j = i*2+1
            GPIO.output(ledPins[j],GPIO.LOW)
            time.sleep(0.3)
            GPIO.output(ledPins[j],GPIO.HIGH)

LEDãƒãƒ¼ã‚°ãƒ©ãƒ•ã®å¶æ•°ä½ã®LEDã‚’é †ç•ªã«ç‚¹ç¯ã•ã›ã¾ã™ã€‚

.. code-block:: python

    def allLedBarGraph():
        for i in ledPins:
            GPIO.output(i,GPIO.LOW)
            time.sleep(0.3)
            GPIO.output(i,GPIO.HIGH)

LEDãƒãƒ¼ã‚°ãƒ©ãƒ•å…¨ä½“ã‚’é †ç•ªã«ç‚¹ç¯ã•ã›ã¾ã™ã€‚

ç¾è±¡ã®ç”»åƒ
------------------------

.. image:: ../img/image67.jpeg
