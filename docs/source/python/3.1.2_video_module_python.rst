.. note::

    隆Hola, bienvenido a la Comunidad de Entusiastas de SunFounder Raspberry Pi, Arduino y ESP32 en Facebook! Profundiza en Raspberry Pi, Arduino y ESP32 con otros entusiastas.

    **驴Por qu茅 unirse?**

    - **Soporte experto**: Resuelve problemas postventa y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Previews exclusivos**: Accede anticipadamente a anuncios de nuevos productos y adelantos exclusivos.
    - **Descuentos especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones y sorteos festivos**: Participa en sorteos y promociones de temporada.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo.

.. _3.1.2_py:

3.1.2 M贸dulo de Video
=========================

Introducci贸n
-----------------

Adem谩s de tomar fotos, el m贸dulo de c谩mara tambi茅n puede usarse para grabar videos.

Componentes necesarios
------------------------------

En este proyecto, necesitamos los siguientes componentes. 

.. image:: ../img/photo1.png
  :width: 800

Es definitivamente conveniente comprar un kit completo, aqu铆 est谩 el enlace: 

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - ELEMENTOS EN ESTE KIT
        - ENLACE
    *   - Kit Raphael
        - 337
        - |link_Raphael_kit|

Tambi茅n puedes comprarlos por separado en los enlaces a continuaci贸n.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIN DEL COMPONENTE
        - ENLACE DE COMPRA

    *   - :ref:`cpn_camera_module`
        - |link_camera_buy|

Procedimientos experimentales
---------------------------------

**Paso 1:** Accede al escritorio de Raspberry Pi. Puede que necesites una pantalla para una mejor experiencia, consulta: `Conecta tu Raspberry Pi <https://projects.raspberrypi.org/en/projects/raspberry-pi-setting-up/3>`_. O accede al escritorio de Raspberry Pi de forma remota, para un tutorial detallado, consulta :ref:`remote_desktop`.

**Paso 2:** Abre un terminal y accede a la carpeta del c贸digo.

.. code-block::

    cd ~/raphael-kit/python/

**Paso 3:** Ejecuta el c贸digo.

.. code-block::

    sudo python3 3.1.2_VideoModule.py

Ejecuta el c贸digo para comenzar la grabaci贸n. Presiona ``Ctrl+C`` para terminar la grabaci贸n. Nombra el video ``my_video.h264`` y almac茅nalo en el directorio ``~``.

.. note::

    Tambi茅n puedes abrir ``3.1.2_VideoModule.py`` en la ruta ``~/raphael-kit/python/`` con un IDE de Python, hacer clic en el bot贸n de Ejecutar para ejecutar el c贸digo y detenerlo con el bot贸n de Detener.

Si deseas enviar fotos a tu PC, consulta :ref:`filezilla`.

**C贸digo**

.. code-block:: python

    from picamera import PiCamera
    import os
    user = os.getlogin()
    user_home = os.path.expanduser(f'~{user}')


    camera = PiCamera()
    
    def setup():
        camera.start_preview(alpha=200)
    
    def main():
        camera.start_recording(f'{user_home}/my_video.h264')
        while True:
            pass    
    
    def destroy():
        camera.stop_recording()
        camera.stop_preview()
    
    if __name__ == '__main__':
        setup()
        try:
            main()
        except KeyboardInterrupt:
            destroy()

**Explicaci贸n del C贸digo**

.. code-block:: python

    start_recording(output, format=None, resize=None, splitter_port=1, **options)

Comienza a grabar video con la c谩mara, almacen谩ndolo en ``output``.

.. code-block:: python

    camera.stop_recording()

Finaliza la grabaci贸n.

