.. note::

    Hola, 隆bienvenido a la Comunidad de Entusiastas de SunFounder Raspberry Pi, Arduino y ESP32 en Facebook! Sum茅rgete en el mundo de Raspberry Pi, Arduino y ESP32 con otros entusiastas.

    **驴Por qu茅 unirse?**

    - **Soporte experto**: Resuelve problemas post-venta y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprender y compartir**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Avances exclusivos**: Obt茅n acceso anticipado a nuevos anuncios de productos y adelantos.
    - **Descuentos especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones festivas y sorteos**: Participa en sorteos y promociones de temporada.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo!

.. _1.1.1_py:

1.1.1 LED Parpadeante
=========================

Introducci贸n
-----------------

En este proyecto, aprenderemos c贸mo hacer que un LED parpadee mediante programaci贸n. 
A trav茅s de tus configuraciones, tu LED puede producir una serie de fen贸menos interesantes. 
Ahora, vamos a ello.

Componentes Necesarios
------------------------------

En este proyecto, necesitamos los siguientes componentes. 

.. image:: ../img/blinking_led_list.png
    :width: 800
    :align: center

Es definitivamente conveniente comprar un kit completo, aqu铆 est谩 el enlace: 

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - ARTCULOS EN ESTE KIT
        - ENLACE
    *   - Raphael Kit
        - 337
        - |link_Raphael_kit|

Tambi茅n puedes comprarlos por separado en los siguientes enlaces.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIN DE COMPONENTES
        - ENLACE DE COMPRA

    *   - :ref:`cpn_gpio_board`
        - |link_gpio_board_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_resistor`
        - |link_resistor_buy|
    *   - :ref:`cpn_led`
        - |link_led_buy|


Diagrama Esquem谩tico
---------------------------

En este experimento, conecta una resistencia de 220惟 al 谩nodo (el pin largo del LED), 
luego la resistencia a 3.3 V, y conecta el c谩todo (el pin corto) del LED al GPIO17 del Raspberry Pi. Por lo tanto, para encender un LED, necesitamos hacer que el GPIO17 est茅 en nivel bajo (0V). Podemos obtener este fen贸meno mediante programaci贸n.

.. note::

    **Pin11** se refiere al pin 11 del Raspberry Pi de izquierda a derecha, y sus n煤meros 
    de pin correspondientes en **wiringPi** y **BCM** se muestran en la siguiente tabla.

En el contenido relacionado con el lenguaje C, hacemos que el GPIO0 sea equivalente a 0 
en wiringPi. Entre el contenido relacionado con el lenguaje Python, BCM 17 es 17 en la 
columna BCM de la siguiente tabla. Al mismo tiempo, son los mismos que el pin 11 en el 
Raspberry Pi, Pin 11.

============== ======== ======== ===
Nombre T-Board f铆sico   wiringPi BCM
GPIO17         Pin 11   0        17
============== ======== ======== ===

.. image:: ../img/image48.png
    :width: 800
    :align: center

Procedimientos Experimentales
---------------------------------

**Paso 1:** Construir el circuito.

.. image:: ../img/image49.png
    :width: 800
    :align: center

**Paso 2:** Ve a la carpeta del c贸digo y ejec煤talo.

1. Si usas una pantalla, se recomienda seguir los siguientes pasos.

Encuentra 1.1.1_BlinkingLed.py y haz doble clic para abrirlo. Ahora est谩s en el archivo.

Haz clic en **Run** -> **Run Module** en la ventana y aparecer谩 el siguiente contenido.

Para detener la ejecuci贸n, simplemente haz clic en el bot贸n X en la parte superior derecha 
para cerrarlo y luego volver谩s al c贸digo. Si modificas el c贸digo, antes de hacer clic en 
**Run Module (F5)** necesitas guardarlo primero. Luego puedes ver los resultados.

2. Si inicias sesi贸n en el Raspberry Pi de forma remota, escribe el siguiente comando:

.. raw:: html

   <run></run>

.. code-block::

   cd ~/raphael-kit/python

.. note::
    Cambia el directorio a la ruta del c贸digo en este experimento mediante ``cd``.

**Paso 3:** Ejecuta el c贸digo

.. raw:: html

   <run></run>

.. code-block::

   sudo python3 1.1.1_BlinkingLed.py

.. note::
    Aqu铆 sudo - superuser do, y python significa ejecutar el archivo con Python.

Despu茅s de ejecutar el c贸digo, ver谩s el LED parpadeando.

**Paso 4:** Si deseas editar el archivo de c贸digo 1.1.1_BlinkingLed.py,
presiona ``Ctrl + C`` para detener la ejecuci贸n del c贸digo. Luego escribe el siguiente 
comando para abrir 1.1.1_BlinkingLed.py:

.. raw:: html

   <run></run>

.. code-block::

   nano 1.1.1_BlinkingLed.py

.. note::
    nano es una herramienta de editor de texto. El comando se utiliza para abrir el
    archivo de c贸digo 1.1.1_BlinkingLed.py con esta herramienta.

Presiona ``Ctrl+X`` para salir. Si has modificado el c贸digo, habr谩 un
mensaje preguntando si deseas guardar los cambios o no. Escribe ``Y`` (guardar)
o ``N`` (no guardar).

Luego presiona ``Enter`` para salir. Escribe nano 1.1.1_BlinkingLed.py nuevamente para
ver el efecto despu茅s del cambio.


**C贸digo**

El siguiente es el c贸digo del programa:

.. note::

   Puedes **Modificar/Restablecer/Copiar/Ejecutar/Detener** el c贸digo a continuaci贸n. Pero antes de eso, necesitas ir a la ruta del c贸digo fuente como ``raphael-kit/python``. Despu茅s de modificar el c贸digo, puedes ejecutarlo directamente para ver el efecto.

.. raw:: html

    <run></run>

.. code-block:: python

   #!/usr/bin/env python3
   import RPi.GPIO as GPIO
   import time
   LedPin = 17
   def setup():
      # Set the GPIO modes to BCM Numbering
      GPIO.setmode(GPIO.BCM)
      # Set LedPin's mode to output,and initial level to High(3.3v)
      GPIO.setup(LedPin, GPIO.OUT, initial=GPIO.HIGH)
   # Define a main function for main process
   def main():
      while True:
         print ('...LED ON')
         # Turn on LED
         GPIO.output(LedPin, GPIO.LOW)
         time.sleep(0.5)
         print ('LED OFF...')
         # Turn off LED
         GPIO.output(LedPin, GPIO.HIGH)
         time.sleep(0.5)
   # Define a destroy function for clean up everything after the script finished
   def destroy():
      # Turn off LED
      GPIO.output(LedPin, GPIO.HIGH)
      # Release resource
      GPIO.cleanup()                   
   # If run this script directly, do:
   if __name__ == '__main__':
      setup()
      try:
         main()
      # When 'Ctrl+C' is pressed, the program destroy() will be  executed.
      except KeyboardInterrupt:
         destroy()

**Explicaci贸n del C贸digo**

.. code-block:: python

   #!/usr/bin/env python3

Cuando el sistema detecta esto, buscar谩 la ruta de instalaci贸n de
python en la configuraci贸n de env, luego llamar谩 al int茅rprete
correspondiente para completar la operaci贸n. Esto previene que el usuario
no tenga instalado python en la ruta predeterminada ``/usr/bin``.

.. code-block:: python

   import RPi.GPIO as GPIO

De esta manera, se importa la biblioteca RPi.GPIO, luego se define una
variable, GPIO para reemplazar RPI.GPIO en el c贸digo siguiente.

.. code-block:: python

   import time

Importa el paquete time, para la funci贸n de retraso de tiempo en el
programa siguiente.

.. code-block:: python

   LedPin = 17

El LED est谩 conectado al GPIO17 de la placa de extensi贸n en forma de T,
es decir, BCM 17.

.. code-block:: python

   def setup():
      GPIO.setmode(GPIO.BCM)
      GPIO.setup(LedPin, GPIO.OUT, initial=GPIO.HIGH)

Establece el modo del pin LedPin a salida y el nivel inicial a Alto(3.3v).

Hay dos formas de numerar los pines IO en una Raspberry Pi dentro de
RPi.GPIO: n煤meros BOARD y n煤meros BCM. En nuestros proyectos, usamos los
n煤meros BCM. Necesitas configurar cada canal que est谩s utilizando como
entrada o salida.

.. code-block:: python

   GPIO.output(LedPin, GPIO.LOW)

Establece el GPIO17(BCM17) a 0V (nivel bajo). Dado que el c谩todo del LED
est谩 conectado al GPIO17, el LED se encender谩.

.. code-block:: python

   time.sleep(0.5)

Retraso de 0.5 segundos. Aqu铆, la declaraci贸n es una funci贸n de retraso en el lenguaje C, la unidad es segundo.

.. code-block:: python

   def destroy():
      GPIO.cleanup()  

Define una funci贸n de destrucci贸n para limpiar todo despu茅s de que el
script termine.

.. code-block:: python

   if __name__ == '__main__':
      setup()
      try:
         main()
      # When 'Ctrl+C' is pressed, the program destroy() will be  executed.
      except KeyboardInterrupt:
         destroy()

Esta es la estructura general de ejecuci贸n del c贸digo. Cuando el
programa comienza a ejecutarse, inicializa el pin ejecutando
setup(), y luego ejecuta el c贸digo en la funci贸n main() para
establecer el pin en niveles alto y bajo. Cuando se presiona ``Ctrl+C``,
el programa destroy() ser谩 ejecutado.

Imagen del Fen贸meno
------------------------

.. image:: ../img/image54.jpeg
    :width: 800
    :align: center