.. note::

    隆Hola! Bienvenido a la comunidad de entusiastas de SunFounder Raspberry Pi & Arduino & ESP32 en Facebook. Sum茅rgete en Raspberry Pi, Arduino y ESP32 con otros entusiastas.

    **驴Por qu茅 unirse?**

    - **Soporte experto**: Resuelve problemas postventa y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprender y compartir**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Previsualizaciones exclusivas**: Obt茅n acceso anticipado a nuevos anuncios de productos y adelantos.
    - **Descuentos especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones festivas y sorteos**: Participa en sorteos y promociones navide帽as.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo.

.. _2.1.4_py:

2.1.4 Interruptor Deslizante
===============================

Introducci贸n
----------------

En este proyecto, aprenderemos a usar un interruptor deslizante. 
Por lo general, el interruptor deslizante se suelda en PCB como 
interruptor de encendido, pero aqu铆 necesitamos insertarlo en la 
placa de pruebas, por lo que puede no estar apretado. Y lo usamos 
en la placa de pruebas para mostrar su funci贸n.

Componentes Requeridos
---------------------------------

En este proyecto, necesitamos los siguientes componentes.

.. image:: ../img/list_2.1.2_slide_switch.png

Es definitivamente conveniente comprar un kit completo, aqu铆 est谩 el enlace:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - ELEMENTOS EN ESTE KIT
        - ENLACE
    *   - Kit Raphael
        - 337
        - |link_Raphael_kit|

Tambi茅n puedes comprarlos por separado en los enlaces a continuaci贸n.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIN DEL COMPONENTE
        - ENLACE DE COMPRA

    *   - :ref:`cpn_gpio_board`
        - |link_gpio_board_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_resistor`
        - |link_resistor_buy|
    *   - :ref:`cpn_led`
        - |link_led_buy|
    *   - :ref:`cpn_slide_switch`
        - |link_slide_switch_buy|
    *   - :ref:`cpn_capacitor`
        - |link_capacitor_buy|

Diagrama Esquem谩tico
------------------------

Conecta el pin central del interruptor deslizante al GPIO17 y 
dos LEDs a los pines GPIO22 y GPIO27 respectivamente. Luego, 
cuando deslices el interruptor, ver谩s que los dos LEDs se encienden alternativamente.

.. image:: ../img/image305.png


.. image:: ../img/image306.png


Procedimientos Experimentales
---------------------------------

**Paso 1:** Construye el circuito.

.. image:: ../img/image161.png

**Paso 2**: Ingresa en la carpeta del c贸digo.

.. raw:: html

   <run></run>

.. code-block::

    cd ~/raphael-kit/python

**Paso 3**: Ejecuta.

.. raw:: html

   <run></run>

.. code-block::

    sudo python3 2.1.4_Slider.py

Mientras el c贸digo se est谩 ejecutando, mueve el interruptor hacia la izquierda, entonces
el LED amarillo se encender谩; hacia la derecha, el LED rojo se encender谩.


**C贸digo**

.. note::

    Puedes **Modificar/Restablecer/Copiar/Ejecutar/Detener** el c贸digo a continuaci贸n. Pero antes de eso, necesitas ir a la ruta del c贸digo fuente como ``raphael-kit/python``. Despu茅s de modificar el c贸digo, puedes ejecutarlo directamente para ver el efecto.


.. raw:: html

    <run></run>

.. code-block:: python

    import RPi.GPIO as GPIO
    import time

    # Establece GPIO17 como pin del interruptor deslizante, GPIO22 como pin del led1, GPIO27 como pin del led2
    slidePin = 17
    led1Pin = 22
    led2Pin = 27

    # Define una funci贸n de configuraci贸n para algunas configuraciones
    def setup():
        # Configura los modos GPIO a Numeraci贸n BCM
        GPIO.setmode(GPIO.BCM)
        # Configura slidePin como entrada
        # Configura ledPin como salida,
        # y nivel inicial a Alto (3.3v)
        GPIO.setup(slidePin, GPIO.IN)
        GPIO.setup(led1Pin, GPIO.OUT, initial=GPIO.HIGH)
        GPIO.setup(led2Pin, GPIO.OUT, initial=GPIO.HIGH)

    # Define una funci贸n principal para el proceso principal
    def main():
        while True:
            # interruptor deslizante alto, led1 encendido
            if GPIO.input(slidePin) == 1:
                print ('    LED1 ON    ')
                GPIO.output(led1Pin, GPIO.LOW)
                GPIO.output(led2Pin, GPIO.HIGH)

            # interruptor deslizante bajo, led2 encendido
            if GPIO.input(slidePin) == 0:
                print ('    LED2 ON    ')
                GPIO.output(led2Pin, GPIO.LOW)
                GPIO.output(led1Pin, GPIO.HIGH)

            time.sleep(0.5)
    # Define una funci贸n de destrucci贸n para limpiar todo despu茅s de
    # que el script haya terminado
    def destroy():
        # Apaga el LED
        GPIO.output(led1Pin, GPIO.HIGH)
        GPIO.output(led2Pin, GPIO.HIGH)
        # Libera los recursos
        GPIO.cleanup()                    

    # Si ejecutas este script directamente, haz:
    if __name__ == '__main__':
        setup()
        try:
            main()
        # Cuando se presiona 'Ctrl+C', se ejecutar谩 el programa
        # destroy().
        except KeyboardInterrupt:
            destroy()   

**Explicaci贸n del C贸digo**

.. code-block:: python

    if GPIO.input(slidePin) == 1:
                GPIO.output(led1Pin, GPIO.LOW)
                GPIO.output(led2Pin, GPIO.HIGH)

Cuando el interruptor deslizante se mueve hacia la derecha, 
el pin del medio y el derecho se conectan; la Raspberry Pi 
lee un nivel alto en el pin del medio, por lo que el LED1 
se enciende y el LED2 se apaga.

.. code-block:: python

    if GPIO.input(slidePin) == 0:
                GPIO.output(led2Pin, GPIO.LOW)
                GPIO.output(led1Pin, GPIO.HIGH)

Cuando el interruptor deslizante se mueve hacia la izquierda, el 
pin del medio y el izquierdo se conectan; la Raspberry Pi lee un 
nivel bajo, por lo que el LED2 se enciende y el LED1 se apaga.

Imagen del Fen贸meno
------------------------

.. image:: ../img/image162.jpeg


