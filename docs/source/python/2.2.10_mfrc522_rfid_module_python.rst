 
.. _2.2.10_py:

2.2.10 Module RFID MFRC522
=============================

Introduction
---------------

L'identification par radiofréquence (RFID) désigne les technologies utilisant la 
communication sans fil entre un objet (ou étiquette) et un dispositif d'interrogation 
(ou lecteur) pour suivre et identifier automatiquement ces objets.

Parmi les applications les plus courantes de cette technologie, on trouve les chaînes 
d'approvisionnement au détail, les chaînes d'approvisionnement militaires, les méthodes 
de paiement automatisées, le suivi et la gestion des bagages, le suivi des documents et la 
gestion pharmaceutique, pour n'en citer que quelques-unes.

Dans ce projet, nous allons utiliser la RFID pour la lecture et l'écriture.

Composants Nécessaires
------------------------

Pour ce projet, nous avons besoin des composants suivants :

.. image:: ../img/list_2.2.7.png

Il est très pratique d'acheter un kit complet, voici le lien :

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nom
        - ÉLÉMENTS DANS CE KIT
        - LIEN
    *   - Kit Raphael
        - 337
        - |link_Raphael_kit|

Vous pouvez également les acheter séparément via les liens ci-dessous.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCTION DES COMPOSANTS
        - LIEN D'ACHAT

    *   - :ref:`cpn_gpio_extension_board`
        - |link_gpio_board_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_mfrc522`
        - |link_mfrc522_rfid_buy|

Schéma Électrique
--------------------

.. image:: ../img/image331.png

Procédures Expérimentales
----------------------------

**Étape 1 :** Construire le circuit.

.. image:: ../img/image232.png

**Étape 2 :** Installer les bibliothèques :ref:`Spidev et MFRC522`.

**Étape 3 :** Configurer SPI (voir :ref:`Configuration SPI` pour plus de détails. Si SPI est déjà configuré, passez cette étape.)

**Étape 4 :** Aller dans le dossier du code.

.. raw:: html

   <run></run>

.. code-block::

    cd ~/raphael-kit/python

**Étape 5 :** Après avoir exécuté ``2.2.10_write.py``. Vous devez d'abord écrire un message, appuyer sur ``Enter`` pour confirmer, puis placer la carte sur le module MFRC522, attendre que "Data writing is complete" apparaisse et retirer la carte, ou réécrire le message sur une autre carte et sortir en appuyant sur ``Ctrl+C``.

.. raw:: html

    <run></run>

.. code-block::

    sudo python3 2.2.10_write.py

.. image:: ../img/write_card.png

**Étape 6 :** Maintenant, exécutez ``2.2.10_read.py`` pour lire les informations de l'étiquette ou de la carte que vous avez écrite.

.. raw:: html

    <run></run>

.. code-block::

    sudo python3 2.2.10_read.py

**Explication du Code**

.. code-block:: python

    reader = SimpleMFRC522()

Instancier la classe ``SimpleMFRC522()``.

.. code-block:: python

    reader.read()

Cette fonction est utilisée pour lire les données de la carte. Si la lecture réussit, l'id et le texte seront retournés.

.. code-block:: python

    reader.write(text)

Cette fonction est utilisée pour écrire des informations sur la carte, appuyez sur la touche ``Enter`` pour terminer l'écriture. ``text`` est l'information à écrire sur la carte.

Image du Phénomène
----------------------

.. image:: ../img/image233.jpeg